!function(){var t={3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),s=r("unscopables"),u=Array.prototype;null==u[s]&&o.f(u,s,{configurable:!0,value:i(null)}),t.exports=function(t){u[s][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9670:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1285:function(t,e,n){"use strict";var r=n(7908),i=n(1400),o=n(7466);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,u=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,a=void 0===c?n:i(c,n);a>u;)e[u++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,i=n(9341),o=n(9207),s=i("forEach"),u=o("forEach");t.exports=s&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},1318:function(t,e,n){var r=n(5656),i=n(7466),o=n(1400),s=function(t){return function(e,n,s){var u,c=r(e),a=i(c.length),l=o(s,a);if(t&&n!=n){for(;a>l;)if((u=c[l++])!=u)return!0}else for(;a>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:function(t,e,n){var r=n(9974),i=n(8361),o=n(7908),s=n(7466),u=n(5417),c=[].push,a=function(t){var e=1==t,n=2==t,a=3==t,l=4==t,h=6==t,p=7==t,f=5==t||h;return function(y,d,v,g){for(var x,m,b=o(y),w=i(b),E=r(d,v,3),O=s(w.length),_=0,S=g||u,C=e?S(y,O):n||p?S(y,0):void 0;O>_;_++)if((f||_ in w)&&(m=E(x=w[_],_,b),t))if(e)C[_]=m;else if(m)switch(t){case 3:return!0;case 5:return x;case 6:return _;case 2:c.call(C,x)}else switch(t){case 4:return!1;case 7:c.call(C,x)}return h?-1:a||l?l:C}};t.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterOut:a(7)}},1194:function(t,e,n){var r=n(7293),i=n(5112),o=n(7392),s=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},9207:function(t,e,n){var r=n(9781),i=n(7293),o=n(6656),s=Object.defineProperty,u={},c=function(t){throw t};t.exports=function(t,e){if(o(u,t))return u[t];e||(e={});var n=[][t],a=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:c,h=o(e,1)?e[1]:void 0;return u[t]=!!n&&!i((function(){if(a&&!r)return!0;var t={length:-1};a?s(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,h)}))}},5417:function(t,e,n){var r=n(111),i=n(3157),o=n(5112)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var r=n(1694),i=n(4326),o=n(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},9920:function(t,e,n){var r=n(6656),i=n(3887),o=n(1236),s=n(3070);t.exports=function(t,e){for(var n=i(e),u=s.f,c=o.f,a=0;a<n.length;a++){var l=n[a];r(t,l)||u(t,l,c(e,l))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),s=n(8003),u=n(7497),c=function(){return this};t.exports=function(t,e,n){var a=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,a,!1,!0),u[a]=c,t}},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(7593),i=n(3070),o=n(9114);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},654:function(t,e,n){"use strict";var r=n(2109),i=n(4994),o=n(9518),s=n(7674),u=n(8003),c=n(8880),a=n(1320),l=n(5112),h=n(1913),p=n(7497),f=n(3383),y=f.IteratorPrototype,d=f.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g="keys",x="values",m="entries",b=function(){return this};t.exports=function(t,e,n,l,f,w,E){i(n,e,l);var O,_,S,C=function(t){if(t===f&&I)return I;if(!d&&t in T)return T[t];switch(t){case g:case x:case m:return function(){return new n(this,t)}}return function(){return new n(this)}},j=e+" Iterator",P=!1,T=t.prototype,k=T[v]||T["@@iterator"]||f&&T[f],I=!d&&k||C(f),W="Array"==e&&T.entries||k;if(W&&(O=o(W.call(new t)),y!==Object.prototype&&O.next&&(h||o(O)===y||(s?s(O,y):"function"!=typeof O[v]&&c(O,v,b)),u(O,j,!0,!0),h&&(p[j]=b))),f==x&&k&&k.name!==x&&(P=!0,I=function(){return k.call(this)}),h&&!E||T[v]===I||c(T,v,I),p[e]=I,f)if(_={values:C(x),keys:w?I:C(g),entries:C(m)},E)for(S in _)(d||P||!(S in T))&&a(T,S,_[S]);else r({target:e,proto:!0,forced:d||P},_);return _}},7235:function(t,e,n){var r=n(857),i=n(6656),o=n(6061),s=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),s=n(8113),u=o.process,c=u&&u.versions,a=c&&c.v8;a?i=(r=a.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),s=n(1320),u=n(3505),c=n(9920),a=n(4705);t.exports=function(t,e){var n,l,h,p,f,y=t.target,d=t.global,v=t.stat;if(n=d?r:v?r[y]||u(y,{}):(r[y]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(f=i(n,l))&&f.value:n[l],!a(d?l:y+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;c(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),s(n,l,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(1320),i=n(7293),o=n(5112),s=n(2261),u=n(8880),c=o("species"),a=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=o("replace"),p=!!/./[h]&&""===/./[h]("a","$0"),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var y=o(t),d=!i((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),v=d&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[y]=/./[y]),n.exec=function(){return e=!0,null},n[y](""),!e}));if(!d||!v||"replace"===t&&(!a||!l||p)||"split"===t&&!f){var g=/./[y],x=n(y,""[t],(function(t,e,n,r,i){return e.exec===s?d&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=x[0],b=x[1];r(String.prototype,t,m),r(RegExp.prototype,y,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&u(RegExp.prototype[y],"sham",!0)}},9974:function(t,e,n){var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,n){var r=n(857),i=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},647:function(t,e,n){var r=n(7908),i=Math.floor,o="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,u=/\$([$&'`]|\d\d?)/g;t.exports=function(t,e,n,c,a,l){var h=n+t.length,p=c.length,f=u;return void 0!==a&&(a=r(a),f=s),o.call(l,f,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return r;if(u>p){var l=i(u/10);return 0===l?r:l<=p?void 0===c[l-1]?o.charAt(1):c[l-1]+o.charAt(1):r}s=c[u-1]}return void 0===s?"":s}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7293),i=n(4326),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:function(t,e,n){var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var r,i,o,s=n(8536),u=n(7854),c=n(111),a=n(8880),l=n(6656),h=n(5465),p=n(6200),f=n(3501),y=u.WeakMap;if(s){var d=h.state||(h.state=new y),v=d.get,g=d.has,x=d.set;r=function(t,e){return e.facade=t,x.call(d,t,e),e},i=function(t){return v.call(d,t)||{}},o=function(t){return g.call(d,t)}}else{var m=p("state");f[m]=!0,r=function(t,e){return e.facade=t,a(t,m,e),e},i=function(t){return l(t,m)?t[m]:{}},o=function(t){return l(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:function(t,e,n){var r=n(7293),i=/#|\.prototype\./,o=function(t,e){var n=u[s(t)];return n==a||n!=c&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",a=o.POLYFILL="P";t.exports=o},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),i=n(4326),o=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},3383:function(t,e,n){"use strict";var r,i,o,s=n(7293),u=n(9518),c=n(8880),a=n(6656),l=n(5112),h=n(1913),p=l("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):f=!0);var y=null==r||s((function(){var t={};return r[p].call(t)!==t}));y&&(r={}),h&&!y||a(r,p)||c(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},7497:function(t){t.exports={}},133:function(t,e,n){var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:function(t,e,n){var r=n(7854),i=n(2788),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},1574:function(t,e,n){"use strict";var r=n(9781),i=n(7293),o=n(1956),s=n(5181),u=n(5296),c=n(7908),a=n(8361),l=Object.assign,h=Object.defineProperty;t.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||o(l({},e)).join("")!=i}))?function(t,e){for(var n=c(t),i=arguments.length,l=1,h=s.f,p=u.f;i>l;)for(var f,y=a(arguments[l++]),d=h?o(y).concat(h(y)):o(y),v=d.length,g=0;v>g;)f=d[g++],r&&!p.call(y,f)||(n[f]=y[f]);return n}:l},30:function(t,e,n){var r,i=n(9670),o=n(6048),s=n(748),u=n(3501),c=n(490),a=n(317),l=n(6200)("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=a("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=f(),void 0===e?n:o(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3070),o=n(9670),s=n(1956);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),u=r.length,c=0;u>c;)i.f(t,n=r[c++],e[n]);return t}},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(9670),s=n(7593),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(5296),o=n(9114),s=n(5656),u=n(7593),c=n(6656),a=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=u(e,!0),a)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},1156:function(t,e,n){var r=n(5656),i=n(8006).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},8006:function(t,e,n){var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(6656),i=n(7908),o=n(6200),s=n(8544),u=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:function(t,e,n){var r=n(6656),i=n(5656),o=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,u=i(t),c=0,a=[];for(n in u)!r(s,n)&&r(u,n)&&a.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~o(a,n)||a.push(n));return a}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},288:function(t,e,n){"use strict";var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3887:function(t,e,n){var r=n(5005),i=n(8006),o=n(5181),s=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},1320:function(t,e,n){var r=n(7854),i=n(8880),o=n(6656),s=n(3505),u=n(2788),c=n(9909),a=c.get,l=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,u){var c,a=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,f=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(c=l(n)).source||(c.source=h.join("string"==typeof e?e:""))),t!==r?(a?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:i(t,e,n)):p?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&a(this).source||u(this)}))},7651:function(t,e,n){var r=n(4326),i=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2261:function(t,e,n){"use strict";var r,i,o=n(7066),s=n(2999),u=RegExp.prototype.exec,c=String.prototype.replace,a=u,l=(r=/a/,i=/b*/g,u.call(r,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||h)&&(a=function(t){var e,n,r,i,s=this,a=h&&s.sticky,f=o.call(s),y=s.source,d=0,v=t;return a&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),v=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(y="(?: "+y+")",v=" "+v,d++),n=new RegExp("^(?:"+y+")",f)),p&&(n=new RegExp("^"+y+"$(?!\\s)",f)),l&&(e=s.lastIndex),r=u.call(a?n:s,v),a?r?(r.input=r.input.slice(d),r[0]=r[0].slice(d),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:l&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=a},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){"use strict";var r=n(7293);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),i=n(8880);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},8003:function(t,e,n){var r=n(3070).f,i=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var r=n(9670),i=n(3099),o=n(5112)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},8710:function(t,e,n){var r=n(9958),i=n(4488),o=function(t){return function(e,n){var o,s,u=String(i(e)),c=r(n),a=u.length;return c<0||c>=a?t?"":void 0:(o=u.charCodeAt(c))<55296||o>56319||c+1===a||(s=u.charCodeAt(c+1))<56320||s>57343?t?u.charAt(c):o:t?u.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},1400:function(t,e,n){var r=n(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:function(t,e,n){var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(6656),s=n(9711),u=n(133),c=n(3307),a=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;t.exports=function(t){return o(a,t)||(u&&o(l,t)?a[t]=l[t]:a[t]=h("Symbol."+t)),a[t]}},2222:function(t,e,n){"use strict";var r=n(2109),i=n(7293),o=n(3157),s=n(111),u=n(7908),c=n(7466),a=n(6135),l=n(5417),h=n(1194),p=n(5112),f=n(7392),y=p("isConcatSpreadable"),d=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),x=h("concat"),m=function(t){if(!s(t))return!1;var e=t[y];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!g||!x},{concat:function(t){var e,n,r,i,o,s=u(this),h=l(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?s:arguments[e])){if(p+(i=c(o.length))>d)throw TypeError(v);for(n=0;n<i;n++,p++)n in o&&a(h,p,o[n])}else{if(p>=d)throw TypeError(v);a(h,p++,o)}return h.length=p,h}})},3290:function(t,e,n){var r=n(2109),i=n(1285),o=n(1223);r({target:"Array",proto:!0},{fill:i}),o("fill")},9554:function(t,e,n){"use strict";var r=n(2109),i=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},2772:function(t,e,n){"use strict";var r=n(2109),i=n(1318).indexOf,o=n(9341),s=n(9207),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,a=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!a||!l},{indexOf:function(t){return c?u.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},6992:function(t,e,n){"use strict";var r=n(5656),i=n(1223),o=n(7497),s=n(9909),u=n(654),c="Array Iterator",a=s.set,l=s.getterFor(c);t.exports=u(Array,"Array",(function(t,e){a(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},561:function(t,e,n){"use strict";var r=n(2109),i=n(1400),o=n(9958),s=n(7466),u=n(7908),c=n(5417),a=n(6135),l=n(1194),h=n(9207),p=l("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,d=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var n,r,l,h,p,f,x=u(this),m=s(x.length),b=i(t,m),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=m-b):(n=w-2,r=d(y(o(e),0),m-b)),m+n-r>v)throw TypeError(g);for(l=c(x,r),h=0;h<r;h++)(p=b+h)in x&&a(l,h,x[p]);if(l.length=r,n<r){for(h=b;h<m-r;h++)f=h+n,(p=h+r)in x?x[f]=x[p]:delete x[f];for(h=m;h>m-r+n;h--)delete x[h-1]}else if(n>r)for(h=m-r;h>b;h--)f=h+n-1,(p=h+r-1)in x?x[f]=x[p]:delete x[f];for(h=0;h<n;h++)x[h+b]=arguments[h+2];return x.length=m-r+n,l}})},9601:function(t,e,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},8304:function(t,e,n){n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:function(t,e,n){var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},4916:function(t,e,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:function(t,e,n){"use strict";var r=n(1320),i=n(9670),o=n(7293),s=n(7066),u="toString",c=RegExp.prototype,a=c.toString,l=o((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),h=a.name!=u;(l||h)&&r(RegExp.prototype,u,(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n)}),{unsafe:!0})},8783:function(t,e,n){"use strict";var r=n(8710).charAt,i=n(9909),o=n(654),s="String Iterator",u=i.set,c=i.getterFor(s);o(String,"String",(function(t){u(this,{type:s,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},5306:function(t,e,n){"use strict";var r=n(7007),i=n(9670),o=n(7466),s=n(9958),u=n(4488),c=n(1530),a=n(647),l=n(7651),h=Math.max,p=Math.min;r("replace",2,(function(t,e,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,d=f?"$":"$0";return[function(n,r){var i=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!f&&y||"string"==typeof r&&-1===r.indexOf(d)){var u=n(e,t,this,r);if(u.done)return u.value}var v=i(t),g=String(this),x="function"==typeof r;x||(r=String(r));var m=v.global;if(m){var b=v.unicode;v.lastIndex=0}for(var w=[];;){var E=l(v,g);if(null===E)break;if(w.push(E),!m)break;""===String(E[0])&&(v.lastIndex=c(g,o(v.lastIndex),b))}for(var O,_="",S=0,C=0;C<w.length;C++){E=w[C];for(var j=String(E[0]),P=h(p(s(E.index),g.length),0),T=[],k=1;k<E.length;k++)T.push(void 0===(O=E[k])?O:String(O));var I=E.groups;if(x){var W=[j].concat(T,P,g);void 0!==I&&W.push(I);var A=String(r.apply(void 0,W))}else A=a(j,g,P,T,I,r);P>=S&&(_+=g.slice(S,P)+A,S=P+j.length)}return _+g.slice(S)}]}))},3123:function(t,e,n){"use strict";var r=n(7007),i=n(7850),o=n(9670),s=n(4488),u=n(6707),c=n(1530),a=n(7466),l=n(7651),h=n(2261),p=n(7293),f=[].push,y=Math.min,d=4294967295,v=!p((function(){return!RegExp(d,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(s(this)),o=void 0===n?d:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var u,c,a,l=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,v=new RegExp(t.source,p+"g");(u=h.call(v,r))&&!((c=v.lastIndex)>y&&(l.push(r.slice(y,u.index)),u.length>1&&u.index<r.length&&f.apply(l,u.slice(1)),a=u[0].length,y=c,l.length>=o));)v.lastIndex===u.index&&v.lastIndex++;return y===r.length?!a&&v.test("")||l.push(""):l.push(r.slice(y)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=s(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var s=n(r,t,this,i,r!==e);if(s.done)return s.value;var h=o(t),p=String(this),f=u(h,RegExp),g=h.unicode,x=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),m=new f(v?h:"^(?:"+h.source+")",x),b=void 0===i?d:i>>>0;if(0===b)return[];if(0===p.length)return null===l(m,p)?[p]:[];for(var w=0,E=0,O=[];E<p.length;){m.lastIndex=v?E:0;var _,S=l(m,v?p:p.slice(E));if(null===S||(_=y(a(m.lastIndex+(v?0:E)),p.length))===w)E=c(p,E,g);else{if(O.push(p.slice(w,E)),O.length===b)return O;for(var C=1;C<=S.length-1;C++)if(O.push(S[C]),O.length===b)return O;E=w=_}}return O.push(p.slice(w)),O}]}),!v)},1817:function(t,e,n){"use strict";var r=n(2109),i=n(9781),o=n(7854),s=n(6656),u=n(111),c=n(3070).f,a=n(9920),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};a(p,l);var f=p.prototype=l.prototype;f.constructor=p;var y=f.toString,d="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=y.call(t);if(s(h,t))return"";var n=d?e.slice(7,-1):e.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),s=n(1913),u=n(9781),c=n(133),a=n(3307),l=n(7293),h=n(6656),p=n(3157),f=n(111),y=n(9670),d=n(7908),v=n(5656),g=n(7593),x=n(9114),m=n(30),b=n(1956),w=n(8006),E=n(1156),O=n(5181),_=n(1236),S=n(3070),C=n(5296),j=n(8880),P=n(1320),T=n(2309),k=n(6200),I=n(3501),W=n(9711),A=n(5112),L=n(6061),R=n(7235),N=n(8003),H=n(9909),M=n(2092).forEach,B=k("hidden"),D="Symbol",F=A("toPrimitive"),U=H.set,z=H.getterFor(D),G=Object.prototype,$=i.Symbol,Y=o("JSON","stringify"),K=_.f,V=S.f,q=E.f,J=C.f,X=T("symbols"),Q=T("op-symbols"),Z=T("string-to-symbol-registry"),tt=T("symbol-to-string-registry"),et=T("wks"),nt=i.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,it=u&&l((function(){return 7!=m(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(G,e);r&&delete G[e],V(t,e,n),r&&t!==G&&V(G,e,r)}:V,ot=function(t,e){var n=X[t]=m($.prototype);return U(n,{type:D,tag:t,description:e}),u||(n.description=e),n},st=a?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof $},ut=function(t,e,n){t===G&&ut(Q,e,n),y(t);var r=g(e,!0);return y(n),h(X,r)?(n.enumerable?(h(t,B)&&t[B][r]&&(t[B][r]=!1),n=m(n,{enumerable:x(0,!1)})):(h(t,B)||V(t,B,x(1,{})),t[B][r]=!0),it(t,r,n)):V(t,r,n)},ct=function(t,e){y(t);var n=v(e),r=b(n).concat(pt(n));return M(r,(function(e){u&&!at.call(n,e)||ut(t,e,n[e])})),t},at=function(t){var e=g(t,!0),n=J.call(this,e);return!(this===G&&h(X,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h(X,e)||h(this,B)&&this[B][e])||n)},lt=function(t,e){var n=v(t),r=g(e,!0);if(n!==G||!h(X,r)||h(Q,r)){var i=K(n,r);return!i||!h(X,r)||h(n,B)&&n[B][r]||(i.enumerable=!0),i}},ht=function(t){var e=q(v(t)),n=[];return M(e,(function(t){h(X,t)||h(I,t)||n.push(t)})),n},pt=function(t){var e=t===G,n=q(e?Q:v(t)),r=[];return M(n,(function(t){!h(X,t)||e&&!h(G,t)||r.push(X[t])})),r};c||(P(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=W(t),n=function(t){this===G&&n.call(Q,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),it(this,e,x(1,t))};return u&&rt&&it(G,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return z(this).tag})),P($,"withoutSetter",(function(t){return ot(W(t),t)})),C.f=at,S.f=ut,_.f=lt,w.f=E.f=ht,O.f=pt,L.f=function(t){return ot(A(t),t)},u&&(V($.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),s||P(G,"propertyIsEnumerable",at,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),M(b(et),(function(t){R(t)})),r({target:D,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(Z,e))return Z[e];var n=$(e);return Z[e]=n,tt[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?m(t):ct(m(t),e)},defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(d(t))}}),Y&&r({target:"JSON",stat:!0,forced:!c||l((function(){var t=$();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(f(e)||void 0!==t)&&!st(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,Y.apply(null,i)}}),$.prototype[F]||j($.prototype,F,$.prototype.valueOf),N($,D),I[B]=!0},4747:function(t,e,n){var r=n(7854),i=n(8324),o=n(8533),s=n(8880);for(var u in i){var c=r[u],a=c&&c.prototype;if(a&&a.forEach!==o)try{s(a,"forEach",o)}catch(t){a.forEach=o}}},3948:function(t,e,n){var r=n(7854),i=n(8324),o=n(6992),s=n(8880),u=n(5112),c=u("iterator"),a=u("toStringTag"),l=o.values;for(var h in i){var p=r[h],f=p&&p.prototype;if(f){if(f[c]!==l)try{s(f,c,l)}catch(t){f[c]=l}if(f[a]||s(f,a,h),i[h])for(var y in o)if(f[y]!==o[y])try{s(f,y,o[y])}catch(t){f[y]=o[y]}}}},2564:function(t,e,n){var r=n(2109),i=n(7854),o=n(8113),s=[].slice,u=function(t){return function(e,n){var r=arguments.length>2,i=r?s.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},878:function(t,e,n){"use strict";t.exports=n.p+"fa0a3943edc62ae47f16.png"}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),function(){"use strict";n(8304),n(4916),n(5306),n(2564),n(9554),n(2772),n(561),n(4747);var t,e=function(){function t(){this.inputs={},this.events={},this.init()}return t.prototype.init=function(){this.listenInputs()},t.prototype.listenInputs=function(){var t=this;window.addEventListener("keydown",(function(e){var n=" "===e.key?"SPACE":e.key.toUpperCase();t.inputs[n]=["down",e]})),window.addEventListener("keyup",(function(e){var n=" "===e.key?"SPACE":e.key.toUpperCase();t.inputs[n]=["up",e]})),window.addEventListener("mousedown",(function(e){t.inputs.MOUSE=["down",e]})),window.addEventListener("mouseup",(function(e){t.inputs.MOUSE=["up",e]}))},t.prototype.bindEvent=function(t,e,n){t=t.toUpperCase();var r=e;return void 0!==n&&(r=function(t,e){var n=!0;return function(){var r=arguments;n&&(n=!1,t.apply(void 0,r),setTimeout((function(){n=!0}),e))}}(e,n)),this.events[t]=this.events[t]||[],this.events[t].push(r),r},t.prototype.cancelEvent=function(t,e){var n;t=t.toUpperCase();var r=null===(n=this.events[t])||void 0===n?void 0:n.indexOf(e);r&&-1!==r&&this.events[t].splice(r)},t.prototype.emitEvent=function(t){if(void 0!==this.events[t]){var e=this.inputs[t][0],n=this.inputs[t][1];this.events[t].forEach((function(t){t(e,n)})),"up"===e&&(this.inputs[t]=void 0)}},t.prototype.emitEvents=function(){for(var t in this.inputs)void 0!==this.inputs[t]&&this.emitEvent(t)},t.prototype.clear=function(){this.inputs={},this.events={}},t}(),r=function(){function t(t,n){void 0===n&&(n=60),this.canvas=t,this.ctx=t.getContext("2d"),this.maxFps=n,this._listener=new e,this._pause=!1,this._scene={},this._listenInput=!0}return t.getInstance=function(t,e){if(this.instance)return this.instance;if(!this.instance&&t)return this.instance=new this(t,e);throw new Error("You have to create at least one instance")},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.bindEvent=function(t,e,n){return this._listener.bindEvent(t,e,n)},t.prototype.cancelEvent=function(t,e){this._listener.cancelEvent(t,e)},t.prototype.clearEvents=function(){this._listener.clear()},t.prototype.clearScreen=function(){this.ctx.clearRect(0,0,this.width,this.height)},t.prototype._render=function(){var t,e;null===(e=(t=this._scene).render)||void 0===e||e.call(t)},t.prototype._update=function(){var t,e;null===(e=(t=this._scene).update)||void 0===e||e.call(t)},t.prototype._run=function(){var t=this;this._pause||(this.clearScreen(),this._listenInput&&this._listener.emitEvents(),this._render(),this._update()),setTimeout((function(){t._run()}),1e3/this.maxFps)},t.prototype.togglePause=function(t){this._pause=void 0!==t?t:!this._pause},t.prototype.toggleListener=function(t){this._listenInput=void 0!==t?t:!this._listenInput},t.prototype.bindPause=function(t){var e=this;window.addEventListener("keydown",(function(n){n.key===t&&e.togglePause()}))},t.prototype.startWith=function(t){this._scene=t,this._scene.bindInputEvents(),this._run()},t.prototype.replace=function(t){this._scene=t,this.clearEvents(),this._scene.bindInputEvents()},t}(),i=function(){function t(t){this.engine=r.getInstance(),this.isDead=!1,this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0}return t.prototype.delete=function(){this.isDead=!0},t.prototype.setCoordinates=function(t,e){this.x=void 0===t?this.x:t,this.y=void 0===e?this.y:e},t.prototype.move=function(t,e){this.x+=void 0===t?0:t,this.y+=void 0===e?0:e},t.prototype.render=function(){},t.prototype.update=function(){},t}(),o=function(){function t(){this.engine=r.getInstance(),this.isDead=!1,this.elements=[]}return t.prototype.addElement=function(t){this.elements.push(t)},t.prototype.addElements=function(t){var e=this;t.forEach((function(t){e.addElement(t)}))},t.prototype.removeElement=function(t){var e,n=this.elements.indexOf(t);-1!==n&&(this.elements.splice(n,1),null===(e=this.deleteElementCallback)||void 0===e||e.call(this,t))},t.prototype.removeElements=function(t){var e=this;t.length>0&&t.forEach((function(t){e.removeElement(t)}))},t.prototype.resetElement=function(){this.elements=[]},t.prototype.deleteElementCallback=function(t){},t.prototype.bindInputEvents=function(){this.engine.bindPause("p")},t.prototype.delete=function(){this.isDead=!0},t.prototype.render=function(){var t=this;this.elements.forEach((function(e){t.engine.ctx.save(),e.render(),t.engine.ctx.restore()}))},t.prototype.update=function(){var t=[];this.elements.forEach((function(e){!0!==e.isDead?e.update():t.push(e)})),this.removeElements(t)},t}(),s=(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),u=function(t){function e(e){var n=t.call(this,e)||this;return n.text=e.text,n.font=e.font||"16px Microsoft YaHei",n.type=e.type||"fill",n.style=e.style||"#000",n}return s(e,t),e.prototype.changeTexture=function(t,e,n){this.text=void 0===t?this.text:t,this.engine.ctx.font=e||this.engine.ctx.font,this.style=n||this.style},e.prototype.render=function(){this.engine.ctx.font=this.font,"fill"===this.type?(this.engine.ctx.fillStyle=this.style,this.engine.ctx.fillText(this.text,this.x,this.y)):(this.engine.ctx.strokeStyle=this.style,this.engine.ctx.strokeText(this.text,this.x,this.y))},e}(i),c=(n(3290),function(){function t(t){this.engine=r.getInstance(),this.hasDraw=!1,this.isDead=!1,this.lineWidth=t.lineWidth||2,this.type=t.type||"fill",this.style=t.style||"#000",this.drawCallback=function(){}}return t.prototype.changeStyle=function(t,e){this.style=t||this.style,this.lineWidth=e||this.lineWidth},t.prototype.draw=function(t){this.hasDraw=!0,this.drawCallback=t},t.prototype.render=function(){this.hasDraw&&(this.engine.ctx.beginPath(),this.drawCallback.call(this,this.engine.ctx),this.engine.ctx.lineWidth=this.lineWidth,"fill"===this.type?(this.engine.ctx.fillStyle=this.style,this.engine.ctx.fill()):(this.engine.ctx.strokeStyle=this.style,this.engine.ctx.stroke()),this.engine.ctx.closePath())},t.prototype.update=function(){},t}()),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this,e)||this;if(n.width=e.width||n.engine.width,n.height=e.height||n.engine.height,n.radius=e.radius||0,n.lineWidth=e.lineWidth||1,n.type=e.type||"stroke",n.style=e.style||"#000",2*n.radius>n.width||2*n.radius>n.height)throw new Error("radius is too big, the diameter should small than width and height");return n.pen=new c({lineWidth:n.lineWidth,type:n.type,style:n.style}),n.draw(),n}return a(e,t),e.prototype.changeStyle=function(t,e){this.style=t||this.style,this.lineWidth=e||this.lineWidth,this.pen.changeStyle(this.style,this.lineWidth)},e.prototype.draw=function(){var t=this;this.pen.draw((function(e){var n=t.x+t.radius,r=t.y+t.radius,i=t.x+t.width-t.radius,o=t.y+t.height-t.radius;e.moveTo(t.x,r),e.arc(n,r,t.radius,Math.PI,3*Math.PI/2),e.lineTo(n,t.y),e.arc(i,r,t.radius,3*Math.PI/2,2*Math.PI),e.lineTo(t.x+t.width,o),e.arc(i,o,t.radius,0,Math.PI/2),e.lineTo(n,t.y+t.height),e.arc(n,o,t.radius,Math.PI/2,Math.PI),e.lineTo(t.x,r)}))},e.prototype.render=function(){this.pen.render()},e}(i),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n){var r=t.call(this,n)||this;return r.image=e,r.sx=n.sx||0,r.sy=n.sy||0,r.sWidth=n.sWidth||r.image.width,r.sHeight=n.sHeight||r.image.height,r.width=r.width||r.sWidth,r.height=r.height||r.sHeight,r}return h(e,t),e.prototype.changeTexture=function(t,e,n,r){this.sx=t||this.sx,this.sy=e||this.sy,void 0!==n&&(this.sWidth=n||this.sWidth,this.sHeight=r||this.sHeight)},e.prototype.render=function(){this.engine.ctx.drawImage(this.image,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height)},e}(i),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return f(e,t),e.prototype.init=function(){this.initBackground(),this.initTitle(),this.bindEvents()},e.prototype.initBackground=function(){var t=new l({lineWidth:100,type:"fill"});this.addElement(t)},e.prototype.initTitle=function(){var t=new u({text:"Magic Tower 5",font:"50px yehei",x:150,y:160,style:"#f0f"}),e=new u({text:"本大爷",x:200,y:210,style:"#ff0",font:"20px Arial"}),n=new u({text:"press k to continue",x:200,y:260,style:"#fff",font:"14px Arial"});this.addElements([t,e,n])},e.prototype.bindEvents=function(){},e}(o),d=n(878),v=(n(2222),n(3123),{0:"nothing"}),g={0:"stairsUp",1:"floorGrey",2:"floorGlass",3:"wallYellow",4:"floorBlue",5:"stairsDown"},x={0:"doorYellow",1:"smallBottleRed",2:"gemRed",3:"gemBlue",4:"keyYellow"},m={0:"slimeGreen",1:"slimeRed",2:"slimeBlue",3:"skullWhite",4:"skullWhiteEquip",5:"smallBatBlue",6:"wizardBlue"},b={0:"playerFemale"},w={nothing:{texture:{default:{sx:-1,sy:-1,sWidth:32,sHeight:32}}},stairsUp:{type:"levelItem",property:{level:1},texture:{default:{sx:594,sy:660,sWidth:32,sHeight:32}}},stairsDown:{type:"levelItem",property:{level:-1},texture:{default:{sx:594,sy:628,sWidth:32,sHeight:32}}},floorGrey:{type:"none",texture:{default:{sx:0,sy:0,sWidth:32,sHeight:32}}},floorBlue:{type:"none",texture:{default:{sx:33,sy:0,sWidth:32,sHeight:32}}},floorGlass:{type:"none",texture:{default:{sx:132,sy:165,sWidth:32,sHeight:32}}},wallYellow:{type:"block",texture:{default:{sx:132,sy:495,sWidth:32,sHeight:32}}},doorYellow:{type:"item",property:{key:{yk:-1}},texture:{default:{sx:99,sy:660,sWidth:32,sHeight:32}}},keyYellow:{type:"item",property:{key:{yk:1}},texture:{default:{sx:231,sy:660,sWidth:32,sHeight:32}}},smallBottleRed:{type:"item",property:{hp:100},texture:{default:{sx:330,sy:726,sWidth:32,sHeight:32}}},gemRed:{type:"item",property:{ak:3},texture:{default:{sx:495,sy:726,sWidth:32,sHeight:32}}},gemBlue:{type:"item",property:{df:3},texture:{default:{sx:528,sy:726,sWidth:32,sHeight:32}}},slimeGreen:{type:"enemy",property:{hp:50,ak:20,df:1},texture:{default:{sx:759,sy:0,sWidth:32,sHeight:32},active:{sx:759,sy:32,sWidth:32,sHeight:32}}},slimeRed:{type:"enemy",property:{hp:70,ak:15,df:2},texture:{default:{sx:660,sy:0,sWidth:32,sHeight:32},active:{sx:660,sy:33,sWidth:32,sHeight:32}}},slimeBlue:{type:"enemy",property:{hp:1e3,ak:5,df:5},texture:{default:{sx:660,sy:0,sWidth:32,sHeight:32},active:{sx:660,sy:33,sWidth:32,sHeight:32}}},skullWhite:{type:"enemy",property:{hp:110,ak:25,df:5},texture:{default:{sx:891,sy:66,sWidth:32,sHeight:32},active:{sx:891,sy:99,sWidth:32,sHeight:32}}},skullWhiteEquip:{type:"enemy",property:{hp:1e3,ak:5,df:5},texture:{default:{sx:693,sy:132,sWidth:32,sHeight:32},active:{sx:693,sy:165,sWidth:32,sHeight:32}}},smallBatBlue:{type:"enemy",property:{hp:100,ak:20,df:5},texture:{default:{sx:924,sy:0,sWidth:32,sHeight:32},active:{sx:924,sy:33,sWidth:32,sHeight:32}}},wizardBlue:{type:"enemy",property:{hp:1e3,ak:5,df:5},texture:{default:{sx:891,sy:198,sWidth:32,sHeight:32},active:{sx:891,sy:231,sWidth:32,sHeight:32}}},playerFemale:{type:"item",property:{hp:1e3,ak:10,df:10,key:{yk:2,bk:0,rk:0},level:1},texture:{default:{sx:825,sy:726,sWidth:32,sHeight:32},up:{sx:825,sy:726,sWidth:32,sHeight:32},down:{sx:858,sy:726,sWidth:32,sHeight:32},left:{sx:759,sy:726,sWidth:32,sHeight:32},right:{sx:792,sy:726,sWidth:32,sHeight:32}}}},E=[[["b1"],[["b3-13"],["b3","b0","o0","e0","e1","e0","o0-6","b3"],["b3-11","o0","b3"],["b3","i1","o0-2","i0","o0","b3","i2","i4","o0","b3","o0","b3"],["b3","o0","e3","o0","b3","o0","b3","i3","i1","o0","b3","o0","b3"],["b3-2","i0","b3-2","o0","b3-3","i0","b3","o0","b3"],["b3","i4","o0-2","b3","o0","i0","e5","e6","e5","b3","o0","b3"],["b3","o0","e4","o0","b3","o0","b3-5","o0","b3"],["b3-2","i0","b3-2","o0-7","b3"],["b3","o0-3","b3-2","i0","b3-3","i0","b3-2"],["b3","i1","o0","i4","b3","i4","o0-2","b3","o0","e5","o0","b3"],["b3","i1","圣杖","i4","b3","e0","o0-2","b3","e0","蓝血瓶","e0","b3"],["b3-13"]]],[["b1"],[["b3-13"],["b3","b5","o0","e0","e1","e0","o0-6","b3"],["b3-11","o0","b3"],["b3","i1","o0-2","i0","o0","b3","i2","i4","o0","b3","o0","b3"],["b3","o0","e3","o0","b3","o0","b3","i3","i1","o0","b3","o0","b3"],["b3-2","i0","b3-2","o0","b3-3","i0","b3","o0","b3"],["b3","i4","o0-2","b3","o0","i0","e5","e6","e5","b3","o0","b3"],["b3","o0","e4","o0","b3","o0","b3-5","o0","b3"],["b3-2","i0","b3-2","o0-7","b3"],["b3","o0-3","b3-2","i0","b3-3","i0","b3-2"],["b3","i1","o0","i4","b3","i4","o0-2","b3","o0","e5","o0","b3"],["b3","i1","圣杖","i4","b3","o0-3","b3","e0","蓝血瓶","e0","b3"],["b3-13"]]]];function O(t){var e=t.split("-");return{textureName:e[0],counts:e[1]||1}}function _(t){var e=O(t),n=function(t){switch(t){case"o":return v;case"b":return g;case"i":return x;case"e":return m;case"p":return b;default:return v}}(e.textureName[0])[e.textureName[1]],r=JSON.parse(JSON.stringify(w[n]||w.nothing));return r.code=t,r}function S(t){for(var e=O(t),n=[],r=0;r<e.counts;r++)n.push(e.textureName);return n}var C=function(){function t(t,e){this.texture=t,this.isDead=!1,this.needCut={row:!0,column:!0},this.x=e.x||0,this.y=e.y||0,this.size={rowNumber:0,columnNumber:0},this.elementLength=e.elementLength||0;var n=this.createElementsBy(e);this.element=n.element,this.rowCutElement=n.rowCutElement,this.columnCutElement=n.columnCutElement,this.rcCutElement=n.rcCutElement}return t.prototype.delete=function(){this.texture=void 0,this.isDead=!0},t.prototype.createElementsBy=function(t){var e=_(t.bgCode);e.x=t.x||0,e.y=t.y||0;var n,r,i,o=this.createElementBy(e);this.elementLength=this.elementLength||o.width,this.checkDrawRange(t);var s,u=t.width%this.elementLength,c=t.height%this.elementLength;return this.needCut.column&&((s=_(t.bgCode)).texture.default.sWidth=u,s.width=u,r=this.createElementBy(s)),this.needCut.row&&((s=_(t.bgCode)).texture.default.sHeight=c,s.height=c,n=this.createElementBy(s)),this.needCut.row&&this.needCut.column?((s=_(t.bgCode)).texture.default.sHeight=c,s.texture.default.sWidth=u,s.width=u,s.height=c,i=this.createElementBy(s)):(this.needCut.row||this.needCut.column)&&(i=n||r),{element:o,rowCutElement:n=n||o,columnCutElement:r=r||o,rcCutElement:i=i||o}},t.prototype.checkDrawRange=function(t){t.width%this.elementLength==0&&(this.needCut.column=!1),t.height%this.elementLength==0&&(this.needCut.row=!1),this.size.rowNumber=Math.ceil(t.height/this.elementLength),this.size.columnNumber=Math.ceil(t.width/this.elementLength)},t.prototype.createElementBy=function(t){var e={x:0,y:0,width:t.width,height:t.height,sx:t.texture.default.sx,sy:t.texture.default.sy,sWidth:t.texture.default.sWidth,sHeight:t.texture.default.sHeight};return new p(this.texture,e)},t.prototype.draw=function(t,e,n){t.setCoordinates(this.x+e,this.y+n),t.render()},t.prototype.render=function(){for(var t=0;t<this.size.rowNumber-1;t++)for(var e=0;e<this.size.columnNumber-1;e++)this.draw(this.element,e*this.elementLength,t*this.elementLength);for(t=0,e=this.size.columnNumber-1;t<this.size.rowNumber-1;t++)this.draw(this.columnCutElement,e*this.elementLength,t*this.elementLength);for(e=0,t=this.size.rowNumber-1;e<this.size.columnNumber-1;e++)this.draw(this.rowCutElement,e*this.elementLength,t*this.elementLength);this.draw(this.rcCutElement,(this.size.columnNumber-1)*this.elementLength,(this.size.rowNumber-1)*this.elementLength)},t.prototype.update=function(){var t,e,n;this.element.update(),this.rowCutElement!==this.element&&(null===(t=this.rowCutElement)||void 0===t||t.update()),this.columnCutElement!==this.element&&(null===(e=this.columnCutElement)||void 0===e||e.update()),this.rcCutElement!==this.element&&(null===(n=this.rcCutElement)||void 0===n||n.update())},t}(),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e){var n=t.call(this,e)||this;return n.code=e.code||"o0",void 0!==e.position&&(n.position={rIndex:e.position.rIndex,cIndex:e.position.cIndex}),void 0!==e.property&&(n.property=e.property),void 0!==e.texture&&(e.sx=e.texture.default.sx,e.sy=e.texture.default.sy,e.sWidth=e.texture.default.sWidth,e.sHeight=e.texture.default.sHeight),n}return j(e,t),e.prototype.render=function(){var t,e;null===(e=null===(t=this.element)||void 0===t?void 0:t.render)||void 0===e||e.call(t)},e.prototype.update=function(){var t,e;null===(e=null===(t=this.element)||void 0===t?void 0:t.update)||void 0===e||e.call(t)},e}(i),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(e,n){var r=t.call(this,n)||this;return r.element=new p(e,n),r}return T(e,t),e.prototype.touchWith=function(){return!1},e}(P);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(2526),n(1817),n(2165),n(6992),n(1539),n(8783),n(3948);var W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t){function e(e,n){var r=t.call(this,n)||this;return r.element=new p(e,n),r}return W(e,t),e.prototype.touchWith=function(t){return!t||void 0===this.property||void 0===t.property||!!this.canTouch(this.property,t.property)&&(t.touchWith(this,"item"),this.delete(),!0)},e.prototype.canTouch=function(t,e){for(var n in t){var r=t[n],i=e[n];if("number"==typeof r&&i+r<0)return!1;if("object"===I(r)&&!this.canTouch(r,i))return!1}return!0},e}(P),L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(e,n){var r=t.call(this,n)||this;return r.element=new p(e,n),r.level=r.property.level||0,r}return L(e,t),e.prototype.touchWith=function(t,e){return e.replaceLevel(e.levelNumber+this.level),!0},e}(P),N=(n(9714),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),H=function(t){function e(e,n){var r=t.call(this)||this;return r.updateCounter=0,r.updateNumber=12,r.attackCount=0,r.texture=e,r.x=n.x||16,r.y=n.y||16,r.width=n.width||384,r.height=n.height||160,r.enemy=r.copyOptionFrom(n.enemy),r.player=r.copyOptionFrom(n.player),r.init(),r}return N(e,t),e.prototype.copyOptionFrom=function(t){return{code:t.code,property:{hp:t.property.hp,ak:t.property.ak,df:t.property.df}}},e.prototype.init=function(){this.engine.toggleListener(!1),this.initBackground(),this.initElement(),this.initProperty()},e.prototype.initBackground=function(){var t={x:this.x,y:this.y,width:384,height:160,bgCode:"b1"};this.addElement(new C(this.texture,t));var e={x:this.x,y:this.y,width:t.width,height:t.height,style:"#CF6C00",type:"stroke",lineWidth:3};this.addElement(new l(e))},e.prototype.initElement=function(){var t={x:this.x+16,y:this.y+16},e={x:t.x,y:t.y,width:80,height:80,style:"#CF6C00",type:"stroke",lineWidth:2};this.addElement(new l(e));var n=_(this.enemy.code);n.width=n.height=48,n.x=t.x+16,n.y=t.y+12.8,this.addElement(new B(this.texture,n)),this.addElement(new u({x:n.x,y:e.y+96+10,font:"25px cursive",style:"#fff",text:"怪物"})),e.x=e.x+272,this.addElement(new l(e));var r=_(this.player.code).texture.down;r.width=r.height=48,r.x=e.x+16,r.y=this.y+28.8,this.addElement(new p(this.texture,r)),this.addElement(new u({x:r.x,y:e.y+96+10,font:"25px cursive",style:"#fff",text:"勇者"}))},e.prototype.initProperty=function(){this.initPropertyIcon(this.x,"left"),this.initPropertyIcon(this.x+128-10,"right"),this.initPropertyText(this.x,"left"),this.initPropertyText(this.x+80+10,"right")},e.prototype.initPropertyIcon=function(t,e){var n={x:t+100.8,y:this.y,font:"12px Arial",style:"#fff",text:""},r={lineWidth:2,type:"stroke",style:"#fff"},i=t+100.8;n.x="left"===e?n.x:n.x+36;var o=38.4;n.y+=o,n.text="left"===e?"生命:":":生命",this.loadLineText(n,r,i,59),n.y+=o,n.text="left"===e?"攻击:":":攻击",this.loadLineText(n,r,i,97.4),n.y+=o,n.text="left"===e?"防御:":":防御",this.loadLineText(n,r,i,135.8)},e.prototype.loadLineText=function(t,e,n,r){this.addElement(new u(t));var i=new c(e);i.draw((function(t){t.moveTo(n,r),t.lineTo(n+64,r)})),this.addElement(i)},e.prototype.initPropertyText=function(t,e){var n={font:"12px yehei",x:t+128+5,y:this.y+64-8,style:"#fff",text:""},r="left"===e?this.enemy.property:this.player.property;n.text=r.hp.toString(),"left"===e?(this.enemyLifeText=new u(n),this.addElement(this.enemyLifeText)):(this.playerLifeText=new u(n),this.addElement(this.playerLifeText)),n.y+=38.4,n.text=r.ak.toString(),this.addElement(new u(n)),n.y+=38.4,n.text=r.df.toString(),this.addElement(new u(n))},e.prototype.delete=function(){t.prototype.delete.call(this),this.texture=void 0},e.prototype.fight=function(){return this.playerInjure=this.playerInjure||this.player.property.ak-this.enemy.property.df,this.enemyInjure=this.enemyInjure||this.enemy.property.ak-this.player.property.df,this.enemyInjure=this.enemyInjure<0?0:this.enemyInjure,this.attackCount%2==0?this.enemy.property.hp-=this.playerInjure:this.player.property.hp-=this.enemyInjure,this.attackCount++,!(this.enemy.property.hp<0&&(this.enemy.property.hp=0,1))},e.prototype.update=function(){if(t.prototype.update.call(this),this.updateCounter++,this.updateCounter>=this.updateNumber){this.updateCounter=0;var e=this.fight();this.enemyLifeText.changeTexture(this.enemy.property.hp),this.playerLifeText.changeTexture(this.player.property.hp),e||(this.engine.toggleListener(!0),this.delete())}},e}(o),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(t){function e(e,n){var r=t.call(this,n)||this;return r.texture=e,r.activeAnimation=0,r.updateCounter=0,r.updateNumber=10,r.animationElements=[],r.element=new p(e,n),r.createAnimations(e,n),r}return M(e,t),e.prototype.createAnimations=function(t,e){for(var n in e.texture){var r=e.texture[n];r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,this.animationElements.push(new p(t,r))}},e.prototype.touchWith=function(t,e){return!(!this.property||!t.property||!this.canFight(this.property,t.property)||(this.fightWidth(t,e),t.touchWith(this,"enemy"),this.delete(),0))},e.prototype.canFight=function(t,e){var n=e.ak-t.df;if(n<=0)return!1;var r=t.ak-e.df;return r<=0||Math.ceil(t.hp/n)<=Math.ceil(e.hp/r)},e.prototype.fightWidth=function(t,e){e.addElement(new H(this.texture,{player:t,enemy:this}))},e.prototype.update=function(){this.updateCounter++,this.updateCounter>=this.updateNumber&&(this.updateCounter=0,this.activeAnimation++,this.activeAnimation=this.activeAnimation>=this.animationElements.length?0:this.activeAnimation,this.element=this.animationElements[this.activeAnimation])},e}(P),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e,n){var r=t.call(this)||this;return r.x=n.x||0,r.y=n.y||0,r.elementsCode=n.elementsCode,r.elements=[],r.texture=e,r.elementsOption=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++)e[n][i]=_(r[i])}return e}(r.elementsCode),r.elementDistance=32,r.loadElements(),r}return D(e,t),e.prototype.loadElements=function(){for(var t=0;t<this.elementsOption.length;t++)for(var e=this.elementsOption[t],n=0;n<e.length;n++)this.createElement(e[n],t,n)},e.prototype.createElement=function(t,e,n){if(void 0!==t.type&&"none"!==t.type){var r=t;r.x=this.x+n*this.elementDistance,r.y=this.y+e*this.elementDistance,r.position={rIndex:e,cIndex:n},"block"===t.type?this.addElement(new k(this.texture,r)):"item"===t.type?this.addElement(new A(this.texture,r)):"enemy"===t.type?this.addElement(new B(this.texture,r)):"levelItem"===t.type&&this.addElement(new R(this.texture,r))}},e.prototype.deleteElementCallback=function(t){void 0!==t.position&&(this.elementsCode[t.position.rIndex][t.position.cIndex]="o0")},e}(o),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(e,n,r){var i=t.call(this)||this;return i.texture=e,i.x=r.x||0,i.y=r.y||0,i.width=r.width||160,i.height=r.height||416,i.level=r.level||0,i.lineRange=r.lineRange||25,i.player=n,i.init(),i}return U(e,t),e.prototype.init=function(){this.updateCounter=0,this.updateNumber=10,this.initBackground(),this.initProperty()},e.prototype.replaceInfo=function(t,e){this.player=t||this.player,this.level=(null==e?void 0:e.level)||this.level},e.prototype.delete=function(){t.prototype.delete.call(this),this.texture=void 0,this.player=void 0},e.prototype.initBackground=function(){var t={x:this.x+20,y:this.y,width:124.8,height:160,bgCode:"b1"};this.addElement(new C(this.texture,t)),t.y=t.y+t.height+17,this.addElement(new C(this.texture,t));var e={x:this.x+20,y:this.y+2,width:124.8,height:156,style:"#CF6C00",type:"stroke",lineWidth:4};this.addElement(new l(e)),e.y=e.y+e.height+17+e.lineWidth,this.addElement(new l(e))},e.prototype.initProperty=function(){this.initPropertyIcon(),this.initPropertyText()},e.prototype.initPropertyIcon=function(){var t={x:this.x+38.4,y:this.y};console.log(this.player);var e=_(this.player.code).texture.down;e.x=t.x-5,e.y=this.y+10;var n=_("i4").texture.default;n.x=t.x,n.y=t.y+160+this.lineRange+10,n.width=n.height=25;var r=new p(this.texture,e),i=new p(this.texture,n);this.addElements([r,i])},e.prototype.initPropertyText=function(){var t,e={x:this.x+38.4,y:0,font:"13px yehei",style:"#fff",text:""},n=this.player.property;e.y=this.y+13+4+16,e.x=this.x+82.88,e.text="第 "+(this.level+1)+" 层",this.levelText=new u(e),e.x=this.x+38.4,e.y=this.y+67.2+0*this.lineRange,e.text="生命     "+(n.hp||0),this.lifeText=new u(e),e.y=this.y+67.2+1*this.lineRange,e.text="攻击     "+(n.ak||0),this.attackText=new u(e),e.y=this.y+67.2+2*this.lineRange,e.text="防御     "+(n.df||0),this.defenseText=new u(e),e.y=this.y+160+2*this.lineRange+4,e.text="            "+((null===(t=n.key)||void 0===t?void 0:t.yk)||0),this.yellowKeyText=new u(e),this.addElements([this.levelText,this.lifeText,this.attackText,this.defenseText,this.yellowKeyText])},e.prototype.update=function(){if(this.updateCounter++,this.updateCounter>=this.updateNumber){this.updateCounter=0;var t=this.player.property;this.levelText.changeTexture("第 "+(this.level+1)+" 层"),this.lifeText.changeTexture("生命     "+t.hp),this.attackText.changeTexture("攻击     "+t.ak),this.defenseText.changeTexture("防御     "+t.df),this.yellowKeyText.changeTexture("            "+t.key.yk)}},e}(o);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(9601);var $=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},K=function(t){function e(e,n){var r=this,i=_(n);return(r=t.call(this,i)||this).texture=e,r.element=new p(r.texture,i),r.elements={},r.width=r.element.width,r.height=r.element.height,r.direction="up",r.init(i.texture),r}return $(e,t),e.prototype.init=function(t){for(var e in this.setCoordinates(192,352),t){var n=t[e];this.elements[e]=new p(this.texture,n)}},e.prototype.setCoordinates=function(e,n){t.prototype.setCoordinates.call(this,e,n),this.element.setCoordinates(e,n)},e.prototype.move=function(e,n){t.prototype.move.call(this,e,n),this.element.move(e,n)},e.prototype.nextStatus=function(t,e){if("down"!==t)return null;var n=this.getMoveDistance(e);return{x:this.x+n.x,y:this.y+n.y,width:this.width,height:this.height}},e.prototype.moveBy=function(t){var e=this.getMoveDistance(t);this.move(e.x,e.y)},e.prototype.touchWith=function(t,e){return"item"===e?this.eatItem(t.property,this.property):"enemy"===e&&this.injuredFrom(t.property,this.property),!0},e.prototype.eatItem=function(t,e){for(var n in t)"number"==typeof e[n]&&(e[n]=e[n]+t[n]),"object"===G(e[n])&&this.eatItem(t[n],e[n])},e.prototype.injuredFrom=function(t,e){var n=e.ak-t.df,r=t.ak-e.df;r=r<0?0:r;var i=(Math.ceil(t.hp/n)-1)*r;e.hp-=i},e.prototype.getMoveDistance=function(t){switch(t){case"left":return{x:-32,y:0};case"right":return{x:32,y:0};case"up":return{x:0,y:-32};case"down":return{x:0,y:32};default:return{x:0,y:0}}},e.prototype.turnDirection=function(t){return this.direction!==t&&-1!==["left","right","up","down"].indexOf(t)&&(this.direction=t,this.elements[t].setCoordinates(this.element.x,this.element.y),this.element=this.elements[t],!0)},e.prototype.replacePlayer=function(t){var e=_(t);this.element=new p(this.texture,Y({x:this.x,y:this.y},e))},e}(P),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function e(){var e=t.call(this)||this;return e.texture=new Image,e.gameWindowSize={rowNumber:13,columnNumber:18},e.gameElements=[],e.levelsCode=[],e.levelNumber=0,e.lock=!1,e.loadLevelCode(e.levelNumber),e.loadTexture((function(){e.init()})),e}return V(e,t),e.prototype.init=function(){this.resetElement(),this.initBackground(),this.initElementScene(),this.initPlayer(),this.initStatusBar()},e.prototype.loadLevelCode=function(t){if(void 0===this.levelsCode[t]){var e=function(t){if(t>=0&&t<E.length){for(var e=E[t],n=e[0][0],r=[],i=0;i<e[1].length;i++){var o=e[1][i];r[i]=[];for(var s=0;s<o.length;s++){var u=S(o[s]);r[i]=r[i].concat(u)}}return{bg:n,elements:r}}return null}(t);if(null===e)throw new Error("Level config error, content is null");this.levelsCode[t]=e}},e.prototype.replaceLevel=function(t){this.loadLevelCode(t),this.levelNumber=t,this.init()},e.prototype.loadTexture=function(t){var e=this;this.texture.src=d,this.texture.onload=function(){t.call(e)}},e.prototype.initBackground=function(){this.staticBg=this.staticBg||new C(this.texture,{x:416,height:32*this.gameWindowSize.rowNumber,width:160,bgCode:"b4"});var t=new C(this.texture,{height:416,width:32*this.gameWindowSize.rowNumber,bgCode:this.levelsCode[this.levelNumber].bg});this.addElements([this.staticBg,t])},e.prototype.initElementScene=function(){var t=new F(this.texture,{elementsCode:this.levelsCode[this.levelNumber].elements});this.gameElements=t.elements,this.addElement(t)},e.prototype.initPlayer=function(){this.player=this.player||new K(this.texture,"p0"),this.addElement(this.player)},e.prototype.initStatusBar=function(){this.statusScene=new z(this.texture,this.player,{x:416,y:16}),this.addElement(this.statusScene)},e.prototype.move=function(t,e){if(!this.lock){if(this.lock=!0,this.player.turnDirection(e))return this.lock=!1;var n=this.player.nextStatus(t,e);if(null===n)return this.lock=!1;var r=this.getTouchedItem(n,this.gameElements);if(null===r)return this.player.moveBy(e),this.lock=!1;r.touchWith(this.player,this),this.lock=!1}},e.prototype.getTouchedItem=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.x===r.x&&t.y===r.y)return r}return null},e.prototype.bindInputEvents=function(){var e=this;t.prototype.bindInputEvents.call(this),this.engine.bindEvent("d",(function(t){e.move(t,"right")}),90),this.engine.bindEvent("a",(function(t){e.move(t,"left")}),90),this.engine.bindEvent("w",(function(t){e.move(t,"up")}),90),this.engine.bindEvent("s",(function(t){e.move(t,"down")}),90)},e}(o),J=document.querySelector("#canvas"),X=r.getInstance(J,30);new y,X.startWith(new q)}()}();